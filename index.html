<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>BizFinder JA</title>
    <style>
        /* Styles for the website layout and design */
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body {
            font-family: 'Poppins', sans-serif;
            background: linear-gradient(135deg, #1e3c72, #2a5298);
            min-height: 100vh;
            color: #333;
            overflow-x: hidden;
        }

        header {
            background: linear-gradient(135deg, #27ae60, #2ecc71);
            padding: 20px;
            text-align: center;
            color: white;
            font-size: 2rem;
            font-weight: bold;
            animation: glow 2s infinite alternate;
        }
        @keyframes glow {
            from { box-shadow: 0 0 10px rgba(46, 204, 113, 0.8); }
            to { box-shadow: 0 0 20px rgba(46, 204, 113, 1); }
        }

        #popup {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: white;
            padding: 30px;
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
            z-index: 1000;
            text-align: center;
            display: block;
        }
        #popup h2 { color: #27ae60; margin-bottom: 20px; }
        #popup button {
            padding: 10px 20px;
            margin: 10px;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            transition: transform 0.3s;
        }
        #popup button:hover { transform: scale(1.1); }
        #business-btn { background: #2980b9; color: white; }
        #customer-btn { background: #e74c3c; color: white; }
        #feed-btn { background: #27ae60; color: white; }

        #feed {
            max-width: 800px;
            margin: 40px auto;
            display: flex;
            flex-direction: column;
            gap: 20px;
        }
        .business-card {
            background: white;
            padding: 20px;
            border-radius: 15px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
            transition: transform 0.3s;
            animation: slideIn 0.6s ease-out forwards;
        }
        .business-card:hover { transform: translateY(-10px); }
        @keyframes slideIn {
            from { transform: translateX(-100%); opacity: 0; }
            to { transform: translateX(0); opacity: 1; }
        }
        .business-card h3 { color: #2980b9; font-size: 1.5rem; }
        .business-card .category { color: #27ae60; font-weight: bold; }
        .business-card img { max-width: 100%; border-radius: 10px; margin: 10px 0; }
        .business-card .contact a {
            margin-right: 15px;
            text-decoration: none;
            transition: transform 0.3s;
        }
        .business-card .contact a:hover { transform: scale(1.2); }
        .business-card .views { color: #e74c3c; }
        .fire { animation: pulse 1s infinite; display: inline-block; }
        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.2); }
            100% { transform: scale(1); }
        }

        #business-form, #customer-form {
            display: none;
            max-width: 600px;
            margin: 40px auto;
            background: white;
            padding: 20px;
            border-radius: 15px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
        }
        #business-form h2, #customer-form h2 { color: #27ae60; margin-bottom: 20px; }
        #business-form input, #business-form select, #business-form textarea,
        #customer-form input {
            width: 100%;
            padding: 10px;
            margin: 10px 0;
            border: 1px solid #ddd;
            border-radius: 5px;
        }
        #business-form button, #customer-form button {
            background: #27ae60;
            color: white;
            padding: 10px 20px;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            transition: transform 0.3s;
        }
        #business-form button:hover, #customer-form button:hover { transform: scale(1.1); }
    </style>
</head>
<body>
    <header>BizFinder JA</header>

    <div id="popup">
        <h2>Welcome to BizFinder JA!</h2>
        <button id="business-btn">Sign Up as Business</button>
        <button id="customer-btn">Sign Up as Customer</button>
        <button id="feed-btn">Continue to Feed</button>
    </div>

    <div id="feed"></div>

    <div id="business-form">
        <h2>Business Sign-Up</h2>
        <input type="text" id="biz-name" placeholder="Business Name" required>
        <select id="biz-category" required>
            <option value="">Select Category</option>
            <option value="Food & Drinks">Food & Drinks</option>
            <option value="Fashion & Accessories">Fashion & Accessories</option>
            <option value="Tech & Electronics">Tech & Electronics</option>
            <option value="Home & Kitchen">Home & Kitchen</option>
            <option value="Beauty & Personal Care">Beauty & Personal Care</option>
            <option value="Crafts & Gifts">Crafts & Gifts</option>
            <option value="Health & Wellness">Health & Wellness</option>
            <option value="Services">Services</option>
            <option value="Baby & Kids">Baby & Kids</option>
            <option value="Tourism & Souvenirs">Tourism & Souvenirs</option>
        </select>
        <input type="text" id="biz-product" placeholder="Featured Product Name" required>
        <textarea id="biz-desc" placeholder="Short Description" required></textarea>
        <input type="text" id="biz-whatsapp" placeholder="WhatsApp Number (e.g., 8765551234)" required>
        <input type="text" id="biz-instagram" placeholder="Instagram Handle (e.g., tasteofmobay)" required>
        <input type="text" id="biz-location" placeholder="Location (e.g., Montego Bay)" required>
        <input type="file" id="biz-display-photo" accept="image/*" required>
        <input type="file" id="biz-product-photo" accept="image/*" required>
        <button onclick="submitBusiness()">Submit</button>
    </div>

    <div id="customer-form">
        <h2>Customer Sign-Up</h2>
        <input type="text" id="cust-name" placeholder="Name" required>
        <input type="email" id="cust-email" placeholder="Email" required>
        <button onclick="submitCustomer()">Submit</button>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const popup = document.getElementById('popup');
            const businessForm = document.getElementById('business-form');
            const customerForm = document.getElementById('customer-form');
            const feed = document.getElementById('feed');

            popup.style.display = 'block';

            document.getElementById('business-btn').addEventListener('click', () => {
                popup.style.display = 'none';
                businessForm.style.display = 'block';
            });
            document.getElementById('customer-btn').addEventListener('click', () => {
                popup.style.display = 'none';
                customerForm.style.display = 'block';
            });
            document.getElementById('feed-btn').addEventListener('click', () => {
                popup.style.display = 'none';
            });

            if (!localStorage.getItem('businesses')) {
                const sampleBusinesses = [
                    {
                        name: 'Taste of Mobay',
                        category: 'Food & Drinks',
                        product: 'Jerk Chicken',
                        desc: 'Authentic Jamaican jerk chicken, seasoned with a secret blend of spices and grilled to perfection. A must-try for locals and tourists alike!',
                        whatsapp: '8765551234',
                        instagram: 'tasteofmobay',
                        location: 'Montego Bay',
                        displayPhoto: 'https://via.placeholder.com/300x200.png?text=Display+Photo',
                        productPhoto: 'https://via.placeholder.com/300x200.png?text=Product+Photo',
                        views: 0
                    },
                    {
                        name: 'Rasta Threads',
                        category: 'Fashion & Accessories',
                        product: 'Handmade Apparel',
                        desc: 'Unique, handmade clothing inspired by Jamaican culture and Rastafarian colors. Perfect for those who love vibrant and meaningful fashion.',
                        whatsapp: '8765555678',
                        instagram: 'rastathreads',
                        location: 'Kingston',
                        displayPhoto: 'https://via.placeholder.com/300x200.png?text=Display+Photo',
                        productPhoto: 'https://via.placeholder.com/300x200.png?text=Product+Photo',
                        views: 0
                    }
                ];
                localStorage.setItem('businesses', JSON.stringify(sampleBusinesses));
            }

            displayBusinesses();

            window.submitBusiness = function() {
                const name = document.getElementById('biz-name').value;
                const category = document.getElementById('biz-category').value;
                const product = document.getElementById('biz-product').value;
                const desc = document.getElementById('biz-desc').value;
                const whatsapp = document.getElementById('biz-whatsapp').value;
                const instagram = document.getElementById('biz-instagram').value;
                const location = document.getElementById('biz-location').value;
                const displayPhoto = document.getElementById('biz-display-photo').files[0];
                const productPhoto = document.getElementById('biz-product-photo').files[0];

                if (!name || !category || !product || !desc || !whatsapp || !instagram || !location || !displayPhoto || !productPhoto) {
                    alert('Please fill in all the blanks');
                    return;
                }

                const readerDisplay = new FileReader();
                readerDisplay.onload = function(e) {
                    const displayPhotoUrl = e.target.result;
                    const readerProduct = new FileReader();
                    readerProduct.onload = function(e) {
                        const productPhotoUrl = e.target.result;
                        const business = {
                            name,
                            category,
                            product,
                            desc,
                            whatsapp,
                            instagram,
                            location,
                            displayPhoto: displayPhotoUrl,
                            productPhoto: productPhotoUrl,
                            views: 0
                        };
                        saveBusiness(business);
                        displayBusinesses();
                        businessForm.style.display = 'none';
                    };
                    readerProduct.readAsDataURL(productPhoto);
                };
                readerDisplay.readAsDataURL(displayPhoto);
            };

            window.submitCustomer = function() {
                const name = document.getElementById('cust-name').value;
                const email = document.getElementById('cust-email').value;

                if (!name || !email) {
                    alert('Please fill in all the blanks');
                    return;
                }

                alert('Thanks for signing up! Use code BIZFINDER10 for 10% off!');
                customerForm.style.display = 'none';
            };

            function saveBusiness(business) {
                let businesses = JSON.parse(localStorage.getItem('businesses')) || [];
                businesses.push(business);
                localStorage.setItem('businesses', JSON.stringify(businesses));
            }

            function displayBusinesses() {
                const businesses = JSON.parse(localStorage.getItem('businesses')) || [];
                businesses.sort((a, b) => b.views - a.views);
                feed.innerHTML = '';
                businesses.forEach((business, index) => {
                    const card = document.createElement('div');
                    card.className = 'business-card';
                    card.innerHTML = `
                        <h3>${business.name}</h3>
                        <p class="category">${business.category}</p>
                        <img src="${business.displayPhoto}" alt="${business.name}" style="width: 100%; max-height: 200px; object-fit: cover;">
                        <p><strong>Featured Product:</strong> ${business.product}</p>
                        <img src="${business.productPhoto}" alt="${business.product}" style="width: 100%; max-height: 200px; object-fit: cover;">
                        <p>${business.desc}</p>
                        <p><strong>Location:</strong> ${business.location}</p>
                        <div class="contact">
                            <a href="https://wa.me/${business.whatsapp}" target="_blank">WhatsApp</a>
                            <a href="https://instagram.com/${business.instagram}" target="_blank">Instagram</a>
                        </div>
                        <p class="views">Views: ${business.views}</p>
                        ${business.views >= 100 ? '<span class="fire">🔥</span>' : ''}
                        <button onclick="viewDetails(${index})">View Details</button>
                    `;
                    feed.appendChild(card);
                });
            }

            window.viewDetails = function(index) {
                let businesses = JSON.parse(localStorage.getItem('businesses')) || [];
                businesses[index].views++;
                localStorage.setItem('businesses', JSON.stringify(businesses));
                displayBusinesses();
            };
        });
    </script>
</body>
</html>